import { AppPalette } from "../theme_palette.slint";

export component ModeTabs inherits Rectangle {
    in property <[string]> labels: [];
    in property <int> selected_index: 0;
    callback selected(int);

    height: 30px;
    background: AppPalette.panel-bg;
    border-radius: 4px;
    border-width: 1px;
    border-color: AppPalette.border;

    HorizontalLayout {
        spacing: 0px;
        for label[index] in root.labels : Rectangle {
            property <bool> active: root.selected_index == index;
            horizontal-stretch: 1;
            height: parent.height;
            background: self.active
                ? AppPalette.selection-bg
                : tab-ta.has-hover
                    ? AppPalette.control-hover-bg
                    : transparent;
            border-width: self.active ? 1px : 0px;
            border-color: AppPalette.selection-border;
            Text {
                text: label;
                color: parent.active
                    ? AppPalette.text-primary
                    : AppPalette.text-secondary;
                font-size: 12px;
                horizontal-alignment: center;
                vertical-alignment: center;
            }
            tab-ta := TouchArea {
                clicked => { root.selected(index); }
            }
        }
    }
}
